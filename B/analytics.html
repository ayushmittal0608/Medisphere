<!DOCTYPE html>
  <!-- Coding by CodingLab | www.codinglabweb.com -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!----======== CSS ======== -->
    <link rel="stylesheet" href="analytics-style.css">
    
    <!----===== Boxicons CSS ===== -->
    <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
    
    <!--<title>Dashboard Sidebar Menu</title>--> 
</head>
<body>
    <nav class="sidebar close">
        <header>
            <div class="image-text">
                <span class="image">
                    <img src="images.png" alt="">
                </span>

                <div class="text logo-text">
                    <span class="name">Medisphere</span>
                    <span class="profession">Medical Company</span>
                </div>
            </div>

            <i class='bx bx-chevron-right toggle'></i>
        </header>

        <div class="menu-bar">
            <div class="menu">

                <li class="search-box">
                    <i class='bx bx-search icon'></i>
                    <input type="text" placeholder="Search...">
                </li>

                <ul class="menu-links">
                    <li class="nav-link">
                        <a href="dashboard.html">
                            <i class='bx bx-home-alt icon' ></i>
                            <span class="text nav-text">Dashboard</span>
                        </a>
                    </li>

                    <li class="nav-link">
                        <a href="appointment.html">
                            <i class='bx bx-bar-chart-alt-2 icon' ></i>
                            <span class="text nav-text">Appointment</span>
                        </a>
                    </li>

                    <li class="nav-link">
                        <a href="notification.html">
                            <i class='bx bx-bell icon'></i>
                            <span class="text nav-text">Notifications</span>
                        </a>
                    </li>

                    <li class="nav-link">
                        <a href="analytics.html">
                            <i class='bx bx-pie-chart-alt icon' ></i>
                            <span class="text nav-text">Analytics</span>
                        </a>
                    </li>

                    <li class="nav-link">
                        <a href="test.html">
                            <i class='bx bx-heart icon' ></i>
                            <span class="text nav-text">Fitness Test</span>
                        </a>
                    </li>

                    <li class="nav-link">
                        <a href="cart.html">
                            <i class='bx bx-wallet icon' ></i>
                            <span class="text nav-text">Wallets</span>
                        </a>
                    </li>

                </ul>
            </div>

            <div class="bottom-content">
                <li class="">
                    <button onclick="logout()">
                        <i class='bx bx-log-out icon' ></i>
                        <span class="text nav-text">Logout</span>
                    </button>
                </li>

                <li class="mode">
                    <div class="sun-moon">
                        <i class='bx bx-moon icon moon'></i>
                        <i class='bx bx-sun icon sun'></i>
                    </div>
                    <span class="mode-text text">Dark mode</span>

                    <div class="toggle-switch">
                        <span class="switch"></span>
                    </div>
                </li>
                
            </div>
        </div>

    </nav>

    <section class="home">
        <div class="text">MediASSIST</div>
        <div class="abc">
        <div class="container">
            <div class="part1">
            <h1>Regular Dosage Check</h1><br>
            <div class="app1">
            <label for="currentDosage">Current Dosage (mg):</label>
            <input type="number" id="currentDosage" min="0" required>
    
            <label for="recommendedDosage">Recommended Dosage (mg):</label>
            <input type="number" id="recommendedDosage" min="0" required>
            </div>
            <button onclick="checkDosage()">Check Dosage</button>
            <div class="result" id="result"></div>
            </div>
            <div class="part2">
            <h1>BMI Analysis</h1>
            <label for="weight">Weight (kg):</label>
            <input type="number" id="weight" min="0" required>

            <label for="height">Height (cm):</label>
            <input type="number" id="height" min="0" required>

            <button onclick="calculateBMI()">Calculate BMI</button>

            <div class="result" id="result"></div>
            </div>
        </div>

        <div class="app"> 
            <h1>Quantitative Analysis</h1><br>
            <div class="inputs"> 
                <div> 
                    <label for="water"> 
                          Water Intake (in ml) 
                      </label> 
                    <input id="water" type="number"> 
                </div> 
                <div> 
                    <label for="exercise"> 
                          Exercise Duration (in min) 
                      </label> 
                    <input id="exercise" type="number"> 
                </div> 
                <div> 
                    <label for="bloodsugerlevel"> 
                          Blood Sugar Level (in mg/dL) 
                      </label> 
                    <input id="bloodsugerlevel" type="number"> 
                </div> 
            </div> 
            <button id="submit">Submit</button> 
            <div id="editSection" class="hidden"> 
                <button id="cancelEdit" onclick="cancelEdit()"> 
                      Cancel 
                  </button> 
                <button id="updateEntry" onclick="editRow()"> 
                      Update 
                  </button> 
            </div> 
            <table> 
                <thead> 
                    <tr> 
                        <th>Date</th> 
                        <th>Water Intake <br> (in ml)</th> 
                        <th>Exercise Duration <br> (in min)</th> 
                        <th>Blood Sugar Level <br> (in mg/dL)</th> 
                        <th>Edit</th> 
                        <th>Delete</th> 
                    </tr> 
                </thead> 
                <tbody id="output"> 
                </tbody> 
            </table> 
        </div> 
        </div>
    </section>

    <script>
        const body = document.querySelector('body'),
      sidebar = body.querySelector('nav'),
      toggle = body.querySelector(".toggle"),
      searchBtn = body.querySelector(".search-box"),
      modeSwitch = body.querySelector(".toggle-switch"),
      modeText = body.querySelector(".mode-text");


toggle.addEventListener("click" , () =>{
    sidebar.classList.toggle("close");
})

searchBtn.addEventListener("click" , () =>{
    sidebar.classList.remove("close");
})

modeSwitch.addEventListener("click" , () =>{
    body.classList.toggle("dark");
    
    if(body.classList.contains("dark")){
        modeText.innerText = "Light mode";
    }else{
        modeText.innerText = "Dark mode";
        
    }
});
    </script>
    <script>
        function checkDosage() {
            var currentDosage = parseFloat(document.getElementById("currentDosage").value);
            var recommendedDosage = parseFloat(document.getElementById("recommendedDosage").value);

            if (isNaN(currentDosage) || isNaN(recommendedDosage)) {
                document.getElementById("result").innerText = "Please enter valid dosages.";
                return;
            }

            if (currentDosage === recommendedDosage) {
                document.getElementById("result").innerText = "Your dosage is correct.";
            } else if (currentDosage < recommendedDosage) {
                document.getElementById("result").innerText = "You are taking less than the recommended dosage.";
            } else {
                document.getElementById("result").innerText = "You are taking more than the recommended dosage.";
            }
        }
    </script>
    <script>
        // script.js 

const editIcon = `<i class="fas fa-edit"></i>` 

const deleteIcon = `<i class="fas fa-trash"></i>` 

function clearInputs() { 
	wInput.value = ""
	eInput.value = ""
	bInput.value = ""
} 

function addToLocalStorage(){ 
	localStorage.setItem("date", JSON.stringify(date)) 
	localStorage.setItem("water", JSON.stringify(water)) 
	localStorage.setItem("exercise", JSON.stringify(exercise)) 
	localStorage.setItem("bloodsugar", JSON.stringify(bloodsugar)) 
} 

function activateEdit(i){ 
	wInput.value = water[i] 
	eInput.value = exercise[i] 
	bInput.value = bloodsugar[i] 
	editIndex = i 
	submitButton.classList.add("hidden") 
	editSection.classList.remove("hidden") 
} 

function cancelEdit() { 
	clearInputs() 
	editIndex = -1 
	submitButton.classList.remove("hidden") 
	editSection.classList.add("hidden") 
} 

function editRow(){ 
	if(editIndex==-1) return
	water[editIndex] = wInput.value 
	exercise[editIndex] = eInput.value 
	bloodsugar[editIndex] = bInput.value 
	fillTable() 
	addToLocalStorage() 
	cancelEdit() 
} 

function deleteRow(i){ 
	if(!confirm( 
	`Confirm that you want to delete the entry: 
	\n ${date[i]}: ${water[i]}ml, ${exercise[i]}min, 
${bloodsugar[i]}mg/dL`)) 
return
	date.splice(i, 1) 
	water.splice(i, 1) 
	exercise.splice(i, 1) 
	bloodsugar.splice(i, 1) 
document.querySelector(`#output > tr:nth-child(${i+1})`) 
	.classList.add("delete-animation") 
	addToLocalStorage() 
	setTimeout(fillTable, 500) 
} 

function fillTable(){ 
	const tbody = document.getElementById("output") 
	const rows = 
		Math.max(water.length, exercise.length, bloodsugar.length) 
	let html = ""
	for(let i=0; i<rows; i++){ 
		let w = water[i] || "N/A"
		let e = exercise[i] || "N/A"
		let b = bloodsugar[i] || "N/A"
		let d = date[i] || "N/A"
		html+=`<tr> 
			<td>${d}</td> 
			<td>${w}</td> 
			<td>${e}</td> 
			<td>${b}</td> 
			<td> 
				<button onclick="activateEdit(${i})"
						class="edit">${editIcon} 
				</button> 
			</td> 
			<td> 
				<button 
					onclick="deleteRow(${i})"
					class="delete">${deleteIcon} 
				</button> 
			</td> 
		</tr>`		 
	} 
	tbody.innerHTML = html; 
} 

let editIndex = -1; 

let date = 
	JSON.parse(localStorage.getItem("date")) || [] 
let water = 
	JSON.parse(localStorage.getItem("water")) || [] 
let exercise = 
	JSON.parse(localStorage.getItem("exercise")) || [] 
let bloodsugar = 
	JSON.parse(localStorage.getItem("bloodsugar")) || [] 

const wInput = document.getElementById("water") 
const eInput = document.getElementById("exercise") 
const bInput = document.getElementById("bloodsugerlevel") 

const submitButton = document.getElementById("submit") 
const editSection = document.getElementById("editSection") 

fillTable() 

submitButton.addEventListener("click", ()=>{ 
	const w = wInput.value || null; 
	const e = eInput.value || null; 
	const b = bInput.value || null; 
	if(w===null || e===null || b===null) { 
		alert("Please enter all the fields.") 
		return
	} 
	const d = new Date().toLocaleDateString() 
	date = [d, ...date] 
	water = [w, ...water] 
	exercise = [e, ...exercise] 
	bloodsugar = [b, ...bloodsugar] 
	// date.push(d) 
	// water.push(w) 
	// exercise.push(e) 
	// bloodsugar.push(b) 
	clearInputs() 
	fillTable() 
	addToLocalStorage() 
})

    </script>
    <script>
        function calculateBMI() {
            var weight = parseFloat(document.getElementById("weight").value);
            var height = parseFloat(document.getElementById("height").value);

            if (isNaN(weight) || isNaN(height) || height === 0) {
                document.getElementById("result").innerText = "Please enter valid weight and height.";
                return;
            }

            var bmi = weight / ((height / 100) * (height / 100));

            var resultText = "Your BMI is " + bmi.toFixed(2) + ". ";
            if (bmi < 18.5) {
                resultText += "You are underweight.";
            } else if (bmi >= 18.5 && bmi < 24.9) {
                resultText += "You have a normal weight.";
            } else if (bmi >= 24.9 && bmi < 29.9) {
                resultText += "You are overweight.";
            } else {
                resultText += "You are obese.";
            }

            document.getElementById("result").innerText = resultText;
        }
    </script>
    <script>
        function logout() {
            // Close the current window/tab
            if (window.opener) {
                window.opener.close();
              } else {
                // If there's no opener window, close the current window/tab
                window.close();
              }
          }
    </script>

</body>
</html>